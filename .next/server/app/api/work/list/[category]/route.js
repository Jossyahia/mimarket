"use strict";(()=>{var e={};e.id=714,e.ids=[714],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},83020:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>y,originalPathname:()=>m,patchFetch:()=>w,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>h});var o={};r.r(o),r.d(o,{GET:()=>p});var a=r(10884),n=r(16132),s=r(21040),i=r(67859),c=r(34581);let p=async(e,{params:t})=>{try{let e;await (0,i.P)();let{category:r}=t;return e="All"!==r?await c.Z.find({category:r}).populate("creator"):await c.Z.find().populate("creator"),new Response(JSON.stringify(e),{status:200})}catch(e){return console.log(e),new Response("Failed to fetch Work List",{status:500})}},l=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/work/list/[category]/route",pathname:"/api/work/list/[category]",filename:"route",bundlePath:"app/api/work/list/[category]/route"},resolvedPagePath:"C:\\Users\\HP\\Desktop\\mimarket\\app\\api\\work\\list\\[category]\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:g,headerHooks:y,staticGenerationBailout:h}=l,m="/api/work/list/[category]/route";function w(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},34581:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(11185);let a=new o.Schema({creator:{type:o.Schema.Types.ObjectId,ref:"User"},category:{type:String},title:{type:String},description:{type:String},price:{type:Number},workPhotoPaths:[{type:String}]}),n=o.models.Work||(0,o.model)("Work",a),s=n},67859:(e,t,r)=>{r.d(t,{P:()=>s});var o=r(11185),a=r.n(o);let n=!1,s=async()=>{a().set("strictQuery",!0);try{if(n){console.log("MongoDB is already connected!");return}await a().connect(process.env.MONGO),n=!0,console.log("MongoDB connected")}catch(e){throw n=!1,console.error("MongoDB connection error:",e.message),Error("MongoDB connection error")}}},10884:(e,t,r)=>{e.exports=r(30517)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[271],()=>r(83020));module.exports=o})();